<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="js/jquery-1.12.4.min.js"></script>
	<script>
	function base64EncodeImage(){
		var file = document.querySelector('input[type=file]').files[0];
  		var reader = new FileReader();
  		var base64Image;
  		var preview = document.querySelector('img');
  		reader.addEventListener("load", function(){
  			base64Image = reader.result;
  			preview.src = reader.result;
  		}, false);
		if(file){
			reader.readAsDataURL(file);
		}
		var data = {
			"key": "AIzaSyAkmciEMCM4IyBvgDkXUPCg-YLiVIwwxRE",
			"requests":
			[
				{
					"features":
					[
						{
							"type": "TEXT_DETECTION"
						}
					],
					"image":
					{
						"content": base64Image
					},
					"key": "AIzaSyAkmciEMCM4IyBvgDkXUPCg-YLiVIwwxRE"
				}
			]
		};

		$.ajax({
			type:"POST",
			url: "https://vision.googleapis.com/v1/images:annotate",
			data: data,
			dataType: "json",
			cache: false,
			headers: {
				key: "AIzaSyAkmciEMCM4IyBvgDkXUPCg-YLiVIwwxRE"
			},
			success: function( resp ){
				// it works
				$("#results").html(resp);
				console.log(resp);
			},
			error: function( resp ){
				// error!
				$("#results").html(resp);
				console.log(resp);
			},
			complete: function(jqXHR, textStatus){
				// probably don't need
			}
		});
	}
	</script>
</head>
<body>
	<div id="imgForm">
		<input type="file" onchange="base64EncodeImage()" />
	</div>
	<div id="results"></div>
	<img src="" height="200" alt="Image preview...">
</body>
</html>